<div class="d-flex justify-content-center">
  <div class="card m-3">
    <h5 class="card-header">Angular 8 Reactive Form Validation</h5>
    <div class="card-body">
      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
        <div class="bordered" name="personal" formGroupName="personal">
          <label [ngClass]="{ 'ng-valid': isValid('personal.username') }"
            >Username</label
          >
          <input
            type="text"
            name="username"
            formControlName="username"
            class="form-control"
          />
          <div class="error" *ngIf="isInValid('personal.username', 'required')">
            Field is reqired !
          </div>
          <label [ngClass]="{ 'ng-valid': isValid('personal.firstName') }"
            >Full Name</label
          >
          <input type="text" formControlName="firstName" class="form-control" />
          <div
            class="error"
            *ngIf="isInValid('personal.firstName', 'required')"
          >
            Field is reqired !
          </div>
          <div class="error" *ngIf="isInValid('personal.firstName', 'min')">
            Name must be at least 4 characters long.
          </div>
        </div>
        <div
          class="bordered"
          name="contactDetails"
          formGroupName="contactDetails"
          *ngIf="isValid('personal')"
        >
          <label [ngClass]="{ 'ng-valid': isValid('contactDetails.address') }"
            >Address</label
          >
          <input type="text" formControlName="address" class="form-control" />
          <div
            class="error"
            *ngIf="isInValid('contactDetails.address', 'required')"
          >
            Field is reqired !
          </div>
          <div class="error" *ngIf="isInValid('contactDetails.address', 'min')">
            Address must be at least 2 characters long.
          </div>
          <label [ngClass]="{ 'ng-valid': isValid('contactDetails.telephone') }"
            >Telephone</label
          >
          <input type="text" formControlName="telephone" class="form-control" />
          <div
            class="error"
            *ngIf="isInValid('contactDetails.telephone', 'required')"
          >
            Field is reqired !
          </div>
          <div
            class="error"
            *ngIf="isInValid('contactDetails.telephone', 'min')"
          >
            Telephone nr must be at least 10 digits long.
          </div>
          <div
            class="error"
            *ngIf="isInValid('contactDetails.telephone', 'pattern')"
          >
            DIGITS ONLY !!
          </div>
          <label [ngClass]="{ 'ng-valid': isValid('city') }">City</label>
          <input type="text" formControlName="city" class="form-control" />
          <div
            class="error"
            *ngIf="isInValid('contactDetails.city', 'required')"
          >
            Field is reqired !
          </div>
        </div>
        <div
          formGroupName="loginDetails"
          class="bordered"
          *ngIf="isValid('contactDetails')"
        >
          <label [ngClass]="{ 'ng-valid': isValid('loginDetails.email') }"
            >Email</label
          >
          <input
            type="text"
            name="email"
            formControlName="email"
            class="form-control"
          />
          <div
            class="error"
            *ngIf="isInValid('loginDetails.email', 'required')"
          >
            Field is reqired !
          </div>
          <div class="error" *ngIf="isInValid('loginDetails.email', 'email')">
            Email format must follow standard, like 'tttt@tttt.tt' !
          </div>
          <label [ngClass]="{ 'ng-valid': isValid('loginDetails.password') }"
            >Password</label
          >
          <input
            type="password"
            name="password"
            formControlName="password"
            class="form-control"
          />
          <div
            class="error"
            *ngIf="isInValid('loginDetails.password', 'required')"
          >
            Field is reqired !
          </div>
          <div class="error" *ngIf="!isValid('loginDetails.password', 'min')">
            Password must be at least 4 characters long.
          </div>
          <label
            [ngClass]="{ 'ng-valid': isValid('loginDetails.confirmPassword') }"
            >Confirm Password</label
          >
          <input
            type="password"
            formControlName="confirmPassword"
            class="form-control"
          />
          <div
            class="error"
            *ngIf="isInValid('loginDetails.confirmPassword', 'required')"
          >
            Field is reqired !
          </div>
          <div
            class="error"
            *ngIf="isInValid('loginDetails.confirmPassword', 'validateEqual')"
          >
            Password mismatch !
          </div>
        </div>
        <div
          class="panel form-group form-check"
          *ngIf="
            isValid('personal.firstName') &&
            isValid('contactDetails.address') &&
            isValid('loginDetails.password')
          "
        >
          <label
            [ngClass]="{ 'ng-valid': isValid('acceptTerms') }"
            for="acceptTerms"
            class="form-check-label"
            >Accept Terms & Conditions</label
          >
          <input
            type="checkbox"
            name="acceptTerms"
            formControlName="acceptTerms"
            id="acceptTerms"
            class="form-check-input"
          />
          <div
            class="error"
            *ngIf="
              isVisible('acceptTerms') && !isValid('acceptTerms', 'required')
            "
          >
            Field is reqired !
          </div>
          <div class="error" *ngIf="!isValid('acceptTerms')">
            Accept Ts & Cs is required
          </div>
        </div>
        <div class="text-center">
          <button
            class="btn btn-primary mr-1"
            [disabled]="
              !(
                isValid('personal.firstName') &&
                isValid('contactDetails.address') &&
                isValid('loginDetails.password') &&
                isValid('acceptTerms')
              )
            "
            type="submit"
          >
            Register
          </button>
          <button class="btn btn-secondary" type="reset" (click)="onReset()">
            Clear
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
